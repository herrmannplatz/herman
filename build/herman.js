!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(3),a=n(1),u=function(){function t(){i(this,t),this.tag=void 0,this.parent=void 0,this.children=[],this.matrix=new a,this.x=0,this.y=0,this.scale=1,this.rotation=0,this.anchorX=0,this.anchorY=0,this.width=0,this.height=0}return r(t,[{key:"update",value:function(t){t.save(),this.updateMatrix(t),this.draw(t),t.restore();for(var e=0,n=this.children.length;e<n;e++)this.children[e].update(t)}},{key:"draw",value:function(t){}},{key:"updateMatrix",value:function(t){if(this.matrix.identity().transform(this.x+this.anchorX,this.y+this.anchorY,this.rotation,this.scale),this.parent){var e=this.parent.matrix.clone();this.matrix=e.multiply(this.matrix)}t.setTransform(this.matrix.a11,this.matrix.a21,this.matrix.a12,this.matrix.a22,this.matrix.a13,this.matrix.a23)}},{key:"localToGlobal",value:function(t,e){var n=this.matrix.clone();return n.translate(t,e),new o(n.a13,n.a23)}},{key:"globalToLocal",value:function(t,e){var n=this.matrix.clone();return new o(t-n.a13,e-n.a23)}},{key:"addChild",value:function(t){this.addChildAt(t,this.children.length)}},{key:"addChildAt",value:function(t,e){if(e<0||e>this.children.length)throw new Error("index does not exist");t&&t.hasChild&&!this.hasChild(t)&&(t.parent&&t.parent.removeChild(t),this.children.splice(e,0,t),t.parent=this)}},{key:"removeChild",value:function(t){if(!this.hasChild(t))throw new Error("object is not a child");this.removeChildAt(this.children.indexOf(t))}},{key:"removeChildAt",value:function(t){if(t<0||t>=this.children.length)throw new Error("index does not exist");this.children[t].parent=null,this.children.splice(t,1)}},{key:"hasChild",value:function(t){return this.children.indexOf(t)!==-1}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByTagName",value:function(t){}},{key:"getChildAt",value:function(t){if(t<0||t>=this.children.length)throw new Error("index does not exist");return this.children[t]}}]),t}();t.exports=u},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),a=15,u=function(t,e){var n=t.a11,i=t.a12,r=t.a21,o=t.a22;t.a11=n*e.a11+i*e.a21,t.a12=n*e.a12+i*e.a22,t.a13=n*e.a13+i*e.a23+t.a13,t.a21=r*e.a11+o*e.a21,t.a22=r*e.a12+o*e.a22,t.a23=r*e.a13+o*e.a23+t.a23},s=function(){function t(){i(this,t),this.identity()}return r(t,[{key:"translate",value:function(t,e){return this.a13+=t,this.a23+=e,this}},{key:"rotate",value:function(t){t=(t*o.DEG_TO_RAD).toFixed(a);var e=Math.sin(t),n=Math.cos(t),i=this.a11,r=this.a21;return this.a11=n*i+e*this.a12,this.a12=-e*i+n*this.a12,this.a21=n*r+e*this.a22,this.a22=-e*r+n*this.a22,this}},{key:"scale",value:function(t){return this.a11*=t,this.a12*=t,this.a21*=t,this.a22*=t,this}},{key:"transform",value:function(t,e,n,i){return this.translate(t,e).rotate(n).scale(i)}},{key:"multiply",value:function(t){return u(this,t),this}},{key:"preMultiply",value:function(t){return u(t,this),this}},{key:"inverse",value:function(){var e=1/this.determinant(),n=new t;return n.a11=this.a22*e,n.a12=-this.a12*e,n.a13=(this.a12*this.a23-this.a22*this.a13)*e,n.a21=-this.a21*e,n.a22=this.a11*e,n.a23=(this.a13*this.a21-this.a23*this.a11)*e,n.a31=0,n.a32=0,n.a33=(this.a11*this.a22-this.a21*this.a12)*e,n}},{key:"determinant",value:function(){return this.a11*this.a22-this.a21*this.a12}},{key:"identity",value:function(){return this.a11=this.a22=this.a33=1,this.a12=this.a13=this.a21=this.a23=this.a31=this.a32=0,this}},{key:"isIdentity",value:function(){return 1===this.a11&&0===this.a12&&0===this.a13&&0===this.a21&&1===this.a22&&0===this.a23}},{key:"decompose",value:function(){var t={};return t.rotation=herman.math.Utils.RAD_TO_DEG*Math.atan2(this.a21,this.a11),t}},{key:"clone",value:function(){var e=new t;return e.a11=this.a11,e.a12=this.a12,e.a13=this.a13,e.a21=this.a21,e.a22=this.a22,e.a23=this.a23,e}},{key:"print",value:function(){return"matrix\n"+this.a11+" "+this.a12+" "+this.a13+"\n"+this.a21+" "+this.a22+" "+this.a23+"\n"+this.a31+" "+this.a32+" "+this.a33+"\n"}}]),t}();t.exports=s},function(t,e){t.exports={DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,angleBetweenPoints:function(t,e){},intersect:function(t,e){}}},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,i){return n(this,t),this.x=e,this.y=i,this}return i(t,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"substract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"normalize",value:function(){var t=this.length();return this.x/=t,this.y/=t,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"length",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}}]),t}();t.exports=r},function(t,e){var n=function(){var t=null,e={},n=0,i=1,r={};return{background:{play:function(e,n){t&&(t.stop(),t=null),t=new herman.audio.Sound(e,n)},stop:function(){t.stop()},pause:function(){t.pause()},resume:function(){t.resume()},rewind:function(){t.play(0)},willPlay:function(){},isPlaying:function(){t.isPlaying()},getVolume:function(){return t.getVolume()},setVolume:function(e){t.setVolume()}},effects:{play:function(t,r){return e[n]=new herman.audio.Sound(t,r,i),n},getVolume:function(){return i},setVolume:function(t){i=t,Object.keys(e).forEach(function(t){t.volume(i)})},pause:function(t){e[n]&&e[n].pause()},pauseAll:function(){Object.keys(e).forEach(function(t){t.pause()})},resume:function(t){e[n]&&e[n].resume()},resumeAll:function(){Object.keys(e).forEach(function(t){t.resume()})},stop:function(t){e[n]&&e[n].stop()},stopAll:function(){Object.keys(e).forEach(function(t){t.stop()})}},preloader:{preload:function(t,e){var n=0;t.forEach(function(i){var o=new XMLHttpRequest;o.open("GET",i,!0),o.responseType="arraybuffer",o.onload=function(a){r[i]=o.repspone,n++,n===t.length&&e&&e()},o.onerror=function(t){console.warn("Unable to load "+i)},o.send()})}}}}();t.exports=n},function(t,e){var n=function(){function t(t){var e=i.createBufferSource();e.buffer=t;var n=i.createGain();return e.connect(n),n.connect(i.destination),e.start=e.start||e.noteOn,e.stop=e.stop||e.noteOff,{source:e,gain:n}}function e(t,e,n){var r=this;this.gainNode=null,this.source=null,this.startOffset=0,this.startTime=0,this.loop="undefined"!=typeof e&&e,this.volume="undefined"==typeof n?1:n;var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=function(){i.decodeAudioData(o.response,function(t){r.buffer=t,r.play()},function(e){console.warn("Unable to play background music "+t)})},o.send()}var n=window.AudioContext||window.webkitAudioContext,i=new n;return window.addEventListener("touchstart",function(){var t=i.createBuffer(1,1,22050),e=i.createBufferSource();e.buffer=t,e.connect(i.destination),e.start=e.start||e.noteOn,e.start(0)},!1),e.prototype.setVolume=function(t){this.gainNode&&(this.gainNode.gain.value=t)},e.prototype.getVolume=function(){if(this.gainNode)return this.gainNode.gain.value},e.prototype.play=function(e){if(!this.source){this.stop();var n=t(this.buffer);this.source=n.source,this.gainNode=n.gain,this.source.loop=this.loop,this.gainNode.gain.value=this.volume,this.startTime=i.currentTime,this.source.start(0,e||0)}},e.prototype.pause=function(){this.stop(),this.startOffset+=i.currentTime-this.startTime},e.prototype.resume=function(){this.play(this.startOffset%this.buffer.duration)},e.prototype.stop=function(){this.source&&this.source.stop(0)},e.prototype.isPlaying=function(){return this.source&&this.source.playbackState===this.source.PLAYING_STATE},e},i=function(){function t(t,e,n){this.loop="undefined"!=typeof e&&e,this.volume="undefined"==typeof n?1:n,this.audio=document.createElement("audio"),this.audio.src=t,this.audio.loop=this.loop,this.audio.volume=this.volume,this.audio.play()}return t.prototype.setVolume=function(t){this.audio.volume=t},t.prototype.getVolume=function(){return this.audio.volume},t.prototype.play=function(t){this.audio.currentTime=t||0,this.audio.play()},t.prototype.pause=function(){this.audio.pause()},t.prototype.resume=function(){this.audio.play()},t.prototype.stop=function(){this.audio.pause(),this.audio.currentTime=0},t.prototype.isPlaying=function(){return!this.audio.paused},t},r=null;try{r=n()}catch(t){console.warn("Web Audio API is not supported in this browser"),r=i()}t.exports=r},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},s=n(0),h=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t?n.element=t:(n.element=document.createElement("div"),n.element.className="div-node",n.element.style.width="100px",n.element.style.height="100px",n.element.style.backgroundColor="white",n.element.style.border="1px solid red"),n.element.style.webkitPerspective=1e3,n.element.style.webkitBackfaceVisibility="hidden",n.element.style.position="absolute",n}return o(e,t),a(e,[{key:"update",value:function(){this.updateMatrix(),this.draw();for(var t=0,e=this.children.length;t<e;t++)this.children[t].update()}},{key:"updateMatrix",value:function(){if(this.matrix.identity().transform(this.x+this.anchorX,this.y+this.anchorY,this.rotation,this.scale),this.parent){var t=this.parent.matrix.clone();this.matrix=t.multiply(this.matrix)}var e="matrix("+this.matrix.a11+","+this.matrix.a21+","+this.matrix.a12+","+this.matrix.a22+","+this.matrix.a13+","+this.matrix.a23+")";this.element.style.webkitTransform=e}},{key:"addChild",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addChild",this).apply(this,arguments),this.updateMatrix(),document.getElementById("domStage").appendChild(t.element)}},{key:"removeChild",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).apply(this,arguments),document.getElementById("domStage").removeChild(t.element)}}]),e}(s);t.exports=h},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){n(this,t),this.canvas=e,this.context=this.canvas.getContext("2d"),this.width=e.width,this.height=e.height}return i(t,[{key:"update",value:function(t){this.context.clearRect(0,0,this.width,this.height),t.update(this.context)}}]),t}();t.exports=r},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(0),s=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.bitmap=t,n}return o(e,t),a(e,[{key:"draw",value:function(t){t.drawImage(this.bitmap,-this.bitmap.width/2,-this.bitmap.height/2)}}]),e}(u);t.exports=s},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(0),s=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.text=t,n}return o(e,t),a(e,[{key:"draw",value:function(t){t.fillStyle="#00F",t.font="italic 30pt Arial",t.fillText(this.text,20,50)}}]),e}(u);t.exports=s},function(t,e){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()},function(t,e,n){var i=window.herman={};n(10),i.math={},i.math.utils=n(2),i.math.Vector=n(3),i.math.Matrix=n(1),i.Node=n(0),i.Sprite=n(8),i.Text=n(9),i.Renderer=n(7),i.audio={},i.audio.AudioPlayer=n(4),i.audio.Sound=n(5),i.DomNode=n(6)}]);